<!DOCTYPE html>
<!-- HTML5 ドキュメントであることを宣言する。 -->
<html lang="ja" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<!-- HTML タグ開始。lang="ja" は日本語ページであることを示す。 -->
<!-- xmlns:th は Thymeleaf の属性を使うための名前空間宣言。
-->
<!-- xmlns:sec は Spring Security 用の拡張属性を使うための名前空間宣言。
-->
<head>
<meta charset="UTF-8">
<!-- 文字エンコーディングを UTF-8 に設定。
-->
<title>勤怠履歴詳細 - 勤怠管理システム</title>
<!-- ブラウザタブに表示されるタイトルを設定。
-->
<link rel="stylesheet" th:href="@{/css/style.css}">
<!-- CSS スタイルシートのリンクを設定。
-->
<!-- th:href を使うことで Thymeleaf でパスを解決する。 -->
</head>
<body>
<div class="container">
<!-- コンテンツを中央寄せで囲む div。
-->
<h1>勤怠履歴詳細</h1>
<!-- ページのメインタイトル。 -->
<p>あなたの勤怠履歴です。</p>
<!-- サブテキスト。 -->
<div th:if="${param.success}" class="success-message">
<!-- クエリパラメータに success が含まれている場合に表示するメッセージブロック。
-->
<span th:if="${param.success == 'fixRequestSubmitted'}">修正依頼が送信されました。</span>
<!-- 修正依頼送信時のメッセージを表示。 -->
</div>
<table>
<thead>
<tr>
<th>日付</th>
<th>出勤</th>
<th>退勤</th>
<th>休憩開始</th>
<th>休憩終了</th>
<th>場所</th>
<th>ステータス</th>
<th>操作</th>
</tr>
</thead>
<tbody>
<tr th:each="record : ${attendanceRecords}">
<!-- 勤怠レコードのリストを繰り返し表示する。 -->
<td th:text="${record.recordDate}"></td>
<!-- 勤怠の日付を表示する。 -->
<td th:text="${record.checkInTime}"></td>
<!-- 出勤時間を表示する。 -->
<td th:text="${record.checkOutTime}"></td>
<!-- 退勤時間を表示する。 -->
<td th:text="${record.breakStartTime}"></td>
<!-- 休憩開始時間を表示する。 -->
<td th:text="${record.breakEndTime}"></td>
<!-- 休憩終了時間を表示する。 -->
<td th:text="${record.location}"></td>
<!-- 勤務場所を表示する。 -->
<td th:text="${record.status}"></td>
<!-- 勤怠ステータスを表示する。 -->
<td>
<a th:href="@{/attendance/history/{id}/request-fix(id=${record.id})}" class="button
secondary">修正依頼</a>
<!-- 修正依頼フォーム画面へのリンクボタン。 -->
</td>
</tr>
<tr th:if="${#lists.isEmpty(attendanceRecords)}">
<!-- 勤怠記録が 0 件の場合に表示する行。
-->
<td colspan="8">勤怠記録がありません。</td>
</tr>
</tbody>
</table>
<div class="button-group">
<!-- ボタンをまとめる div。
-->
<a th:href="@{/dashboard}" class="button secondary">ダッシュボードに戻る</a>
<!-- ダッシュボードに戻るボタン。 -->
</div>
</div>
</body>
</html>
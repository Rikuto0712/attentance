<!DOCTYPE html>
<!-- HTML5 ドキュメントであることを宣言する。 -->
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<!-- HTML タグ開始。lang="ja" は日本語ページであることを示す。 -->
<!-- xmlns:th は Thymeleaf の属性を使うための名前空間宣言。
-->
<head>
<meta charset="UTF-8">
<!-- 文字エンコーディングを UTF-8 に設定。
-->
<title>修正依頼 - 勤怠管理システム</title>
<!-- ブラウザタブに表示されるタイトルを設定。
-->
<link rel="stylesheet" th:href="@{/css/style.css}">
<!-- CSS スタイルシートのリンクを設定。
-->
<!-- th:href を使うことで Thymeleaf でパスを解決する。 -->
</head>
<body>
<div class="container">
<!-- 中央寄せでコンテンツを囲む div。
-->
<h1>勤怠修正依頼</h1>
<!-- ページのメインタイトル。 -->
<p>以下の勤怠記録の修正を依頼します。</p>
<!-- ページの説明テキスト。 -->
<table>
<!-- 修正対象の勤怠データを表示するテーブル。 -->
<tr><th>日付</th><td th:text="${attendance.recordDate}"></td></tr>
<!-- 勤怠の日付を表示する行。
-->
<tr><th>出勤</th><td th:text="${attendance.checkInTime}"></td></tr>
<!-- 出勤時間を表示する行。
-->
<tr><th>退勤</th><td th:text="${attendance.checkOutTime}"></td></tr>
<!-- 退勤時間を表示する行。
-->
<tr><th>休憩開始</th><td th:text="${attendance.breakStartTime}"></td></tr>
<!-- 休憩開始時間を表示する行。
-->
<tr><th>休憩終了</th><td th:text="${attendance.breakEndTime}"></td></tr>
<!-- 休憩終了時間を表示する行。
-->
</table>
<form th:action="@{/attendance/history/{id}/request-fix(id=${attendance.id})}" method="post">
<!-- 勤怠修正依頼を送信するフォーム。 -->
<p>
<label for="newCheckInTime">新しい出勤時刻:</label>
<!-- 新しい出勤時間のラベル。 -->
<input type="datetime-local" id="newCheckInTime"
th:value="${attendance.checkInTime}" required>
<!-- 新しい出勤時間の入力フィールド。 -->
<!-- 初期値として既存の打刻時間をセットする。 -->
name="newCheckInTime"
</p>
<p>
<label for="newCheckOutTime">新しい退勤時刻:</label>
<!-- 新しい退勤時間のラベル。 -->
<input type="datetime-local" id="newCheckOutTime"
th:value="${attendance.checkOutTime}" required>
<!-- 新しい退勤時間の入力フィールド。 -->
name="newCheckOutTime"
</p>
<p>
<label for="newBreakStartTime">新しい休憩開始時刻 (任意):</label>
<!-- 新しい休憩開始時間のラベル。 -->
<input type="datetime-local" id="newBreakStartTime"
th:value="${attendance.breakStartTime}">
<!-- 新しい休憩開始時間の入力フィールド。 -->
<!-- 任意項目なので required は付けない。
-->
name="newBreakStartTime"
</p>
<p>
<label for="newBreakEndTime">新しい休憩終了時刻 (任意):</label>
<!-- 新しい休憩終了時間のラベル。 -->
<input type="datetime-local" id="newBreakEndTime"
th:value="${attendance.breakEndTime}">
<!-- 新しい休憩終了時間の入力フィールド。 -->
name="newBreakEndTime"
</p>
<p>
<label for="reason">修正理由:</label>
<!-- 修正理由のラベル。 -->
<textarea id="reason"
name="reason" rows="5" required></textarea>
<!-- 修正理由の入力フィールド。必須項目。 -->
</p>
<div class="button-group">
<!-- ボタンをまとめる div。-->
<button type="submit">依頼を送信</button>
<!-- 修正依頼を送信するボタン。 -->
<a th:href="@{/attendance/history}" class="button secondary">キャンセル</a>
<!-- 修正依頼をキャンセルして履歴画面へ戻るリンク。
-->
</div>
</form>
</div>
</body>
</html>